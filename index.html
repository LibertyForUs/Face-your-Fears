<html>
<head>
	<title>OCCULTATUM</title>

  <link rel="stylesheet" href="/assets/styles/fyf-styles2.css">

</head>
<body onload="init()">
	<div id="bg" class="bg">
		<div class="walk-container">
		 	<div id="oc" class="image-occultatum"/>
		</div>
	</div>	
	 <div id="coords"></div>
  <div id="pointerzone"></div>
</body>
<script>
	function init() {
    // Get a reference to our pointer div
    var pointerzone = document.getElementById("pointerzone");
    // Add an event handler for the pointerdown event
    pointerzone.addEventListener("pointerdown", pointerHandler, false);
	}
	function pointerHandler(event) {
    // Get a reference to our coordinates div
    var coords = document.getElementById("coords");
    // Write the coordinates of the pointer to the div
    coords.innerHTML = 'x: ' + event.pageX + ', y: ' + event.pageY;
  }
	const root = document.documentElement;
 
	document.addEventListener('mousemove', evt => {
	  let x = evt.clientX / innerWidth;
	  let y = evt.clientY / innerHeight;
	 
	  root.style.setProperty('--mouse-x', x);
	  root.style.setProperty('--mouse-y', y);
	});


	// animation code
	var bg = document.getElementById("bg"),
		oc = document.getElementById("oc"),
		d = {},
    dx = 0,
    skip = 10,
    timer;
    

  oc.style.left = 200;

  

	function safeX(x) {  
			var w = window.innerWidth - 100;
	    return x < 0 ? 0 : x > w ? w : x;
	}



	timer = setInterval(function() {
		//alert(parseInt(oc.style.left, 10) + dx + "px");
	  oc.style.left = safeX(parseInt(oc.style.left, 10) + dx) + "px";
	  
	  // clear the timer at 400px to stop the animation
	  if ( oc.style.left > 400 ) {
	    clearInterval( timer );
	  }
	}, 20);
	
	document.addEventListener('keydown', function(event) {
	    const key = event.key; // "ArrowRight", "ArrowLeft", "ArrowUp", or "ArrowDown"
	    
	    switch (key) {
		    case "ArrowLeft":
	        oc.classList.add('walk-movement');
	        oc.classList.add('turn-around');
	        dx = skip * -1;

	        
	        break;
		    case "ArrowRight":
	        oc.classList.add('walk-movement');
	        oc.classList.remove('turn-around');
	        dx = skip;
	        
	        
	        break;

			}
	});

	document.addEventListener('keyup', function(event) {
		
		document.getElementById("oc").classList.remove('walk-movement');
		dx = 0;
	});



	

</script>				
</html>
